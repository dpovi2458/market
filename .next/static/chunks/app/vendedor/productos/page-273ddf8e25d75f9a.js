(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[878],{3527:function(e,s,t){Promise.resolve().then(t.bind(t,1865))},1865:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var a=t(7437),n=t(7086);function i(e){let{items:s=[],onToggle:t,onDelete:n}=e;return(0,a.jsx)("div",{className:"overflow-x-auto bg-white rounded-xl border",children:(0,a.jsxs)("table",{className:"min-w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"text-left text-sm text-gray-600",children:[(0,a.jsx)("th",{className:"p-3",children:"Producto"}),(0,a.jsx)("th",{className:"p-3",children:"Precio"}),(0,a.jsx)("th",{className:"p-3",children:"Stock"}),(0,a.jsx)("th",{className:"p-3",children:"Estado"}),(0,a.jsx)("th",{className:"p-3",children:"Acciones"})]})}),(0,a.jsx)("tbody",{children:s.map(e=>{var s;return(0,a.jsxs)("tr",{className:"border-t",children:[(0,a.jsxs)("td",{className:"p-3 flex items-center gap-2",children:[(0,a.jsx)("img",{src:(null===(s=e.imagenes)||void 0===s?void 0:s[0])||"https://images.unsplash.com/photo-1519681393784-d120267933ba?w=200&q=60&auto=format&fit=crop",alt:"img",className:"w-12 h-12 object-cover rounded"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.titulo}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:e.categoria})]})]}),(0,a.jsxs)("td",{className:"p-3",children:["S/ ",e.precio.toFixed(2)]}),(0,a.jsx)("td",{className:"p-3",children:e.stock}),(0,a.jsx)("td",{className:"p-3",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(e.disponible?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:e.disponible?"Disponible":"Agotado"})}),(0,a.jsxs)("td",{className:"p-3 space-x-2",children:[(0,a.jsx)("a",{href:"/vendedor/productos/editar/".concat(e._id),className:"text-primary",children:"Editar"}),(0,a.jsx)("button",{className:"text-gray-700",onClick:()=>null==t?void 0:t(e),children:e.disponible?"Marcar Agotado":"Marcar Disponible"}),(0,a.jsx)("button",{className:"text-danger",onClick:()=>null==n?void 0:n(e),children:"Eliminar"})]})]},e._id)})})]})})}let c=e=>fetch(e).then(e=>e.json());function o(){let{data:e,mutate:s}=(0,n.ZP)("/api/vendedor/productos",c),t=(null==e?void 0:e.items)||[];async function o(e){await fetch("/api/productos/".concat(e._id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({disponible:!e.disponible})}),s()}async function r(e){confirm("\xbfEliminar producto?")&&(await fetch("/api/productos/".concat(e._id),{method:"DELETE"}),s())}return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Tus productos"}),(0,a.jsx)("a",{className:"btn-primary inline-block",href:"/vendedor/productos/nuevo",children:"Publicar nuevo"}),(0,a.jsx)(i,{items:t,onToggle:o,onDelete:r})]})}}},function(e){e.O(0,[86,971,117,744],function(){return e(e.s=3527)}),_N_E=e.O()}]);